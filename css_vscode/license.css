/* 공통 (변경 없음) */
*{ box-sizing: border-box; }
html, body{ height:100%; }
body{
  margin:0;
  font-family:"Noto Sans KR", system-ui, -apple-system, "Segoe UI", Arial, sans-serif;
  color:#111; background:#fff;
}
.container{ display:flex; min-height:100vh; }

/* ===== 사이드바 (변경 없음) ===== */
.sidebar{ width:320px; background:#ffd400; color:#000; padding:24px 18px; }
.sidebar-inner{ width:260px; margin:0 auto; text-align:center; }
.sb-logo{ font-size:18px; font-weight:700; text-align:left; margin-bottom:14px; }
.sb-title{ font-size:28px; font-weight:800; margin:18px 0 10px; }
.sb-sub{ font-size:12px; color:rgba(0,0,0,.72); margin-bottom:16px; }

/* 새 보드 (변경 없음) */
.sb-free{
  --cell-size: 100px;
  --bw: 3px;
  --rd: 16px;
  position: relative;
  width: 100%;
  height: 280px;
  margin: 0 auto 16px;
}
.sb-free .cell{
  position: absolute;
  width:  var(--size, var(--cell-size));
  height: var(--size, var(--cell-size));
  left: calc(var(--x) * 1% - (var(--size, var(--cell-size)) / 2));
  top:  calc(var(--y) * 1% - (var(--size, var(--cell-size)) / 2));
  display: grid; place-items: center;
  background: #fff;
  border: var(--bw) solid #111;
  border-radius: var(--rd);
  font-weight: 800;
  font-size: 16px;
  line-height: 1.2;
  text-align: center;
  cursor: pointer;
}
.sb-free .cell .stack{ line-height: 1.1; }

.sb-links{ display:flex; justify-content:center; gap:16px; margin-top:8px; font-size:12px; }
.sb-links a{ color:#111; text-decoration:none; }
.sb-links a:hover{ text-decoration:underline; }

/* ===== 메인 ===== */
/* 메인 콘텐츠가 남은 공간을 모두 채우도록 flex-grow: 1 유지 */
.main-content{ flex:1; padding:20px; background:#fff; display:flex; flex-direction:column; }
.top-bar{ display:flex; justify-content:flex-end; padding-bottom:20px; }
.top-actions{ display:flex; align-items:center; gap:12px; }

/* 검색 (변경 없음) */
.search{ display:flex; flex-direction:row-reverse; align-items:center; gap:8px; }
.search .icon{
  width:36px; height:36px; display:grid; place-items:center; padding:0;
  border:1px solid #000; border-radius:50%; background:#ffd400; color:#000; cursor:pointer;
}
.search input{
  width:0; opacity:0; padding:0; height:36px; border:1px solid #000; border-radius:999px;
  background:#fff; font-size:14px; line-height:36px;
  transition: width .25s ease, opacity .2s ease, padding .25s ease;
}
.search:hover input, .search:focus-within input{ width:220px; opacity:1; padding:0 12px; }

.auth-buttons{ display:flex; align-items:center; gap:12px; }
.auth-buttons button{
  height:36px; padding:0 12px; background:#ffd400; border:1px solid #000; border-radius:8px;
  font-weight:700; cursor:pointer;
}

/* 🚀 메인 그리드 레이아웃: 4x4 및 균일 간격 */
.main-grid{
  flex-grow: 1;
  margin-top: 20px;
  display: grid;
  grid-template-columns: repeat(4, 1fr); /* **4열**을 균등하게 설정 */
  /* grid-auto-rows 삭제: 패널의 aspect-ratio에 전적으로 의존합니다. */
  gap: 20px; /* **균일한 간격** */
}

/* 🚀 패널 스타일 조정: 정사각형 비율 및 불규칙 둥근 모서리 */
.panel{
  background:#ffd400;
  
  /* **핵심: 패널을 정사각형으로 만드는 가장 확실한 방법** */
  aspect-ratio: 1 / 1; 
  
  /* **불규칙한 둥근 모서리와 손그림 같은 테두리** */
  /* 그림의 각 칸과 비슷한 느낌을 주기 위해 비대칭 값을 적용 */
  border-radius: 30px; 
  border: 2px solid black; 
  
  padding:18px 20px; 
  display: flex;
  flex-direction: column;
  justify-content: flex-start; 
  align-items: flex-start;
  /* 내용이 넘쳐서 정사각형 비율이 깨지는 것을 방지하기 위해 overflow 설정 */
  overflow: auto; 
}

.panel h3{ margin:0 0 10px; }
.list{ margin:0; padding-left:18px; }

@media (max-width: 1200px){ 
  .main-grid{ grid-template-columns: repeat(3, 1fr); } 
}
@media (max-width: 768px){ 
  .main-grid{ grid-template-columns: repeat(2, 1fr); } 
}
@media (max-width: 500px){ 
  .main-grid{ grid-template-columns: 1fr; } 
}
