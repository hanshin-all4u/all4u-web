<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>패스비 · 회원정보 수정</title>

  <!-- 폰트 + CSS -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;800&display=swap" rel="stylesheet">
  
  <!-- mypage.css와 edit_profile.css를 모두 로드 -->
  <link rel="stylesheet" href="../css_vscode/mypage.css" />
  <link rel="stylesheet" href="../css_vscode/edit_profile.css" />
</head>
<body>
  <div class="container">
    <!-- ===== 사이드바 (mypage.html과 동일) ===== -->
    <aside class="sidebar">
      <div class="sidebar-inner">
        <div class="sb-logo">패스비</div>
        <h2 class="sb-title">마이페이지</h2>
        <p class="sb-sub">원하는 정보를 확인하세요.</p>

        <!-- 새 버튼 보드 (a 태그 링크 사용) -->
        <div class="sb-free">
          <!-- 위 3개 -->
          <a href="mypage.html" class="cell" style="--x:10; --y:30;">캘린더</a>
          <a href="#" class="cell" style="--x:50; --y:30;"><span class="stack">관심<br>자격증</span></a>
          <a href="edit_profile.html" class="cell" style="--x:90; --y:30;"><span class="stack">회원정보<br>수정</span></a>
          <!-- 아래 2개 -->
          <a href="#" class="cell" style="--x:30; --y:80;"><span class="stack">원서접수<br>내역</span></a>
          <a href="#" class="cell" style="--x:70; --y:80;">회원탈퇴</a>
        </div>

        <div class="sb-links">
          <a href="#">Q&amp;A</a>
          <a href="#">문의하기</a>
          <a href="#">전달환경</a>
        </div>
      </div>
    </aside>

    <!-- ===== 메인 (수정된 부분) ===== -->
    <main class="main-content">
      <!-- 우측 상단: 검색 + 버튼 (mypage.html과 동일) -->
      <div class="top-bar">
        <nav class="top-actions">
          <form class="search" role="search" onsubmit="return handleSearch(event)">
            <button class="icon" type="submit" aria-label="검색">
              <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
                <circle cx="11" cy="11" r="7" fill="none" stroke="currentColor" stroke-width="2"/>
                <line x1="16.65" y1="16.65" x2="21" y2="21"
                      stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </button>
            <input type="search" name="q" placeholder="검색어를 입력하세요" autocomplete="off" />
          </form>
          <div class="auth-buttons">
            <button>로그인</button>
            <button>회원가입</button>
          </div>
        </nav>
      </div>

      <!-- ===== 메인 폼 (폼 2개로 분리) ===== -->
      <section class="main-form-container">
        
        <!-- === 폼 1: 닉네임 변경 === -->
        <form id="edit-nickname-form">
          <h2>닉네임 변경</h2>
          
          <div class="form-group">
            <label for="nickname">새 닉네임</label>
            <input type="text" id="nickname" name="nickname" placeholder="새 닉네임을 입력하세요" required>
            <!-- 현재 닉네임을 서버에서 받아와 value=""에 넣어주면 더 좋습니다 -->
          </div>
          
          <hr>
          
          <!-- 본인 인증 (닉네임용) -->
          <div class="auth-section">
            <h4>본인 인증</h4>
            <p class="form-helper">닉네임 변경을 위해 현재 비밀번호를 입력하세요.</p>
            <div class="form-group">
              <label for="current-password-nick">현재 비밀번호</label>
              <input type="password" id="current-password-nick" name="currentPassword" placeholder="현재 비밀번호 입력" required>
            </div>
          </div>
          
          <!-- 제출 버튼 (닉네임용) -->
          <button type="submit" class="submit-btn">닉네임 변경</button>
        </form>

        <!-- === 폼 2: 비밀번호 변경 === -->
        <form id="edit-password-form">
          <h2>비밀번호 변경</h2>

          <div class="form-group">
            <label for="new-password">새 비밀번호</label>
            <input type="password" id="new-password" name="newPassword" placeholder="새 비밀번호 (8자 이상)" required>
          </div>
          
          <div class="form-group">
            <label for="confirm-password">새 비밀번호 확인</label>
            <input type="password" id="confirm-password" name="confirmPassword" placeholder="새 비밀번호 다시 입력" required>
          </div>
          
          <hr>
          
          <!-- 본인 인증 (비밀번호용) -->
          <div class="auth-section">
            <h4>본인 인증</h4>
            <p class="form-helper">비밀번호 변경을 위해 현재 비밀번호를 입력하세요.</p>
            <div class="form-group">
              <label for="current-password-pass">현재 비밀번호</label>
              <input type="password" id="current-password-pass" name="currentPassword" placeholder="현재 비밀번호 입력" required>
            </div>
          </div>
          
          <!-- 제출 버튼 (비밀번호용) -->
          <button type="submit" class="submit-btn">비밀번호 변경</button>
        </form>
      </section>
      
    </main>
  </div>

  <script>
    // mypage.html에 있던 검색 핸들러 (top-bar에서 사용)
    function handleSearch(e){
      e.preventDefault();
      const q = e.currentTarget.q.value.trim();
      if(!q){ alert('검색어를 입력하세요.'); return false; }
      return false;
    }
  </script>
  <!-- 새 edit_profile.js 로드 -->
  <script src="js_vscode/edit_profile.js"></script>
</body>
</html>

